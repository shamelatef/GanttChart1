<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Gantt Chart</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { Calendar, User, Clock, Plus, Edit3, Trash2, CheckCircle } = lucide;

        const GanttChart = () => {
          const [tasks, setTasks] = useState([
            {
              id: 1,
              name: "Project Planning",
              assignee: "Project Manager",
              startDate: "2025-08-12",
              endDate: "2025-08-16",
              progress: 100,
              status: "completed",
              dependencies: []
            },
            {
              id: 2,
              name: "Requirements Gathering",
              assignee: "Business Analyst",
              startDate: "2025-08-14",
              endDate: "2025-08-23",
              progress: 75,
              status: "in-progress",
              dependencies: [1]
            },
            {
              id: 3,
              name: "System Design",
              assignee: "Lead Developer",
              startDate: "2025-08-20",
              endDate: "2025-09-06",
              progress: 30,
              status: "in-progress",
              dependencies: [2]
            },
            {
              id: 4,
              name: "Frontend Development",
              assignee: "Frontend Team",
              startDate: "2025-08-30",
              endDate: "2025-09-27",
              progress: 0,
              status: "not-started",
              dependencies: [3]
            },
            {
              id: 5,
              name: "Backend Development",
              assignee: "Backend Team",
              startDate: "2025-09-02",
              endDate: "2025-10-04",
              progress: 0,
              status: "not-started",
              dependencies: [3]
            },
            {
              id: 6,
              name: "Testing & QA",
              assignee: "QA Team",
              startDate: "2025-09-20",
              endDate: "2025-10-11",
              progress: 0,
              status: "not-started",
              dependencies: [4, 5]
            },
            {
              id: 7,
              name: "Deployment",
              assignee: "DevOps Team",
              startDate: "2025-10-07",
              endDate: "2025-10-14",
              progress: 0,
              status: "not-started",
              dependencies: [6]
            }
          ]);

          const [editingTask, setEditingTask] = useState(null);
          const [newTask, setNewTask] = useState({
            name: '',
            assignee: '',
            startDate: '',
            endDate: '',
            progress: 0,
            status: 'not-started'
          });
          const [showAddForm, setShowAddForm] = useState(false);

          // Generate months for the year
          const months = [
            'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
            'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'
          ];

          const quarters = [
            { name: 'Q1', months: [0, 1, 2] },
            { name: 'Q2', months: [3, 4, 5] },
            { name: 'Q3', months: [6, 7, 8] },
            { name: 'Q4', months: [9, 10, 11] }
          ];

          // Calculate task position and width based on months
          const getTaskPosition = (task) => {
            const startDate = new Date(task.startDate);
            const endDate = new Date(task.endDate);
            
            const startMonth = startDate.getMonth();
            const endMonth = endDate.getMonth();
            
            // Calculate position within the year (0-12 months)
            const startPosition = startMonth + (startDate.getDate() - 1) / 30; // Approximate days in month
            const endPosition = endMonth + endDate.getDate() / 30;
            
            return {
              left: (startPosition / 12) * 100,
              width: ((endPosition - startPosition) / 12) * 100
            };
          };

          const getStatusColor = (status) => {
            switch (status) {
              case 'completed': return 'bg-green-500';
              case 'in-progress': return 'bg-blue-500';
              case 'not-started': return 'bg-gray-400';
              case 'delayed': return 'bg-red-500';
              default: return 'bg-gray-400';
            }
          };

          const addTask = () => {
            if (newTask.name && newTask.startDate && newTask.endDate) {
              setTasks([...tasks, {
                ...newTask,
                id: Math.max(...tasks.map(t => t.id)) + 1,
                dependencies: []
              }]);
              setNewTask({
                name: '',
                assignee: '',
                startDate: '',
                endDate: '',
                progress: 0,
                status: 'not-started'
              });
              setShowAddForm(false);
            }
          };

          const updateTask = (taskId, updates) => {
            setTasks(tasks.map(task => 
              task.id === taskId ? { ...task, ...updates } : task
            ));
          };

          const deleteTask = (taskId) => {
            setTasks(tasks.filter(task => task.id !== taskId));
          };

          return React.createElement('div', { className: "p-6 bg-white min-h-screen" },
            React.createElement('div', { className: "mb-6" },
              React.createElement('h1', { className: "text-3xl font-bold text-gray-800 mb-2" }, "Project Gantt Chart"),
              React.createElement('div', { className: "flex items-center gap-4 text-sm text-gray-600" },
                React.createElement('div', { className: "flex items-center gap-2" },
                  React.createElement(Calendar, { className: "w-4 h-4" }),
                  React.createElement('span', null, "2025 Annual Timeline")
                ),
                React.createElement('div', { className: "flex items-center gap-2" },
                  React.createElement(Clock, { className: "w-4 h-4" }),
                  React.createElement('span', null, `${tasks.length} Tasks`)
                )
              )
            ),

            // Legend
            React.createElement('div', { className: "mb-4 flex gap-4 text-sm" },
              React.createElement('div', { className: "flex items-center gap-2" },
                React.createElement('div', { className: "w-3 h-3 bg-green-500 rounded" }),
                React.createElement('span', null, "Completed")
              ),
              React.createElement('div', { className: "flex items-center gap-2" },
                React.createElement('div', { className: "w-3 h-3 bg-blue-500 rounded" }),
                React.createElement('span', null, "In Progress")
              ),
              React.createElement('div', { className: "flex items-center gap-2" },
                React.createElement('div', { className: "w-3 h-3 bg-gray-400 rounded" }),
                React.createElement('span', null, "Not Started")
              ),
              React.createElement('div', { className: "flex items-center gap-2" },
                React.createElement('div', { className: "w-3 h-3 bg-red-500 rounded" }),
                React.createElement('span', null, "Delayed")
              )
            ),

            // Add Task Button
            React.createElement('button', {
              onClick: () => setShowAddForm(!showAddForm),
              className: "mb-4 flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
            },
              React.createElement(Plus, { className: "w-4 h-4" }),
              "Add Task"
            ),

            // Add Task Form
            showAddForm && React.createElement('div', { className: "mb-6 p-4 border rounded-lg bg-gray-50" },
              React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "Add New Task"),
              React.createElement('div', { className: "grid grid-cols-2 gap-4 mb-4" },
                React.createElement('input', {
                  type: "text",
                  placeholder: "Task name",
                  className: "px-3 py-2 border rounded-lg",
                  value: newTask.name,
                  onChange: (e) => setNewTask({...newTask, name: e.target.value})
                }),
                React.createElement('input', {
                  type: "text",
                  placeholder: "Assignee",
                  className: "px-3 py-2 border rounded-lg",
                  value: newTask.assignee,
                  onChange: (e) => setNewTask({...newTask, assignee: e.target.value})
                }),
                React.createElement('input', {
                  type: "date",
                  className: "px-3 py-2 border rounded-lg",
                  value: newTask.startDate,
                  onChange: (e) => setNewTask({...newTask, startDate: e.target.value})
                }),
                React.createElement('input', {
                  type: "date",
                  className: "px-3 py-2 border rounded-lg",
                  value: newTask.endDate,
                  onChange: (e) => setNewTask({...newTask, endDate: e.target.value})
                }),
                React.createElement('select', {
                  className: "px-3 py-2 border rounded-lg",
                  value: newTask.status,
                  onChange: (e) => setNewTask({...newTask, status: e.target.value})
                },
                  React.createElement('option', { value: "not-started" }, "Not Started"),
                  React.createElement('option', { value: "in-progress" }, "In Progress"),
                  React.createElement('option', { value: "completed" }, "Completed"),
                  React.createElement('option', { value: "delayed" }, "Delayed")
                ),
                React.createElement('input', {
                  type: "number",
                  placeholder: "Progress %",
                  className: "px-3 py-2 border rounded-lg",
                  min: "0",
                  max: "100",
                  value: newTask.progress,
                  onChange: (e) => setNewTask({...newTask, progress: parseInt(e.target.value) || 0})
                })
              ),
              React.createElement('div', { className: "flex gap-2" },
                React.createElement('button', {
                  onClick: addTask,
                  className: "px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
                }, "Add Task"),
                React.createElement('button', {
                  onClick: () => setShowAddForm(false),
                  className: "px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"
                }, "Cancel")
              )
            ),

            // Edit Task Form
            editingTask && (() => {
              const task = tasks.find(t => t.id === editingTask);
              return task ? React.createElement('div', { className: "mb-6 p-4 border rounded-lg bg-blue-50" },
                React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "Edit Task"),
                React.createElement('div', { className: "grid grid-cols-2 gap-4 mb-4" },
                  React.createElement('input', {
                    type: "text",
                    placeholder: "Task name",
                    className: "px-3 py-2 border rounded-lg",
                    value: task.name,
                    onChange: (e) => updateTask(editingTask, {name: e.target.value})
                  }),
                  React.createElement('input', {
                    type: "text",
                    placeholder: "Assignee",
                    className: "px-3 py-2 border rounded-lg",
                    value: task.assignee,
                    onChange: (e) => updateTask(editingTask, {assignee: e.target.value})
                  }),
                  React.createElement('input', {
                    type: "date",
                    className: "px-3 py-2 border rounded-lg",
                    value: task.startDate,
                    onChange: (e) => updateTask(editingTask, {startDate: e.target.value})
                  }),
                  React.createElement('input', {
                    type: "date",
                    className: "px-3 py-2 border rounded-lg",
                    value: task.endDate,
                    onChange: (e) => updateTask(editingTask, {endDate: e.target.value})
                  }),
                  React.createElement('select', {
                    className: "px-3 py-2 border rounded-lg",
                    value: task.status,
                    onChange: (e) => updateTask(editingTask, {status: e.target.value})
                  },
                    React.createElement('option', { value: "not-started" }, "Not Started"),
                    React.createElement('option', { value: "in-progress" }, "In Progress"),
                    React.createElement('option', { value: "completed" }, "Completed"),
                    React.createElement('option', { value: "delayed" }, "Delayed")
                  ),
                  React.createElement('input', {
                    type: "number",
                    placeholder: "Progress %",
                    className: "px-3 py-2 border rounded-lg",
                    min: "0",
                    max: "100",
                    value: task.progress,
                    onChange: (e) => updateTask(editingTask, {progress: parseInt(e.target.value) || 0})
                  })
                ),
                React.createElement('div', { className: "flex gap-2" },
                  React.createElement('button', {
                    onClick: () => setEditingTask(null),
                    className: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                  }, "Save Changes"),
                  React.createElement('button', {
                    onClick: () => setEditingTask(null),
                    className: "px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"
                  }, "Cancel")
                )
              ) : null;
            })(),

            // Gantt Chart
            React.createElement('div', { className: "border rounded-lg overflow-hidden" },
              // Quarter Header
              React.createElement('div', { className: "flex bg-gray-200 border-b" },
                React.createElement('div', { className: "w-80 p-3 border-r bg-gray-100" },
                  React.createElement('span', { className: "font-semibold text-gray-700" }, "Quarters")
                ),
                React.createElement('div', { className: "flex-1" },
                  React.createElement('div', { className: "flex" },
                    quarters.map((quarter) =>
                      React.createElement('div', {
                        key: quarter.name,
                        className: "flex-1 p-2 text-center font-bold text-gray-700 border-r bg-gradient-to-r from-indigo-100 to-indigo-200"
                      }, quarter.name)
                    )
                  )
                )
              ),

              // Timeline Header
              React.createElement('div', { className: "flex bg-gray-100 border-b" },
                React.createElement('div', { className: "w-80 p-4 border-r bg-gray-50" },
                  React.createElement('span', { className: "font-semibold text-gray-700" }, "Tasks")
                ),
                React.createElement('div', { className: "flex-1 relative" },
                  React.createElement('div', { className: "flex" },
                    months.map((month, index) =>
                      React.createElement('div', {
                        key: index,
                        className: "flex-1 p-3 text-center text-sm font-medium text-gray-600 border-r hover:bg-gray-200 transition-colors"
                      }, month)
                    )
                  )
                )
              ),

              // Tasks
              tasks.map((task, index) => {
                const position = getTaskPosition(task);
                return React.createElement('div', { 
                  key: task.id, 
                  className: `flex ${index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}`
                },
                  // Task Info
                  React.createElement('div', { className: "w-80 p-4 border-r" },
                    React.createElement('div', { className: "flex items-center justify-between" },
                      React.createElement('div', null,
                        React.createElement('h4', { className: "font-medium text-gray-800" }, task.name),
                        React.createElement('div', { className: "flex items-center gap-2 mt-1" },
                          React.createElement(User, { className: "w-3 h-3 text-gray-500" }),
                          React.createElement('span', { className: "text-sm text-gray-600" }, task.assignee)
                        ),
                        React.createElement('div', { className: "text-xs text-gray-500 mt-1" },
                          `${new Date(task.startDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' })} - ${new Date(task.endDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}`
                        )
                      ),
                      React.createElement('div', { className: "flex gap-1" },
                        React.createElement('button', {
                          onClick: () => setEditingTask(task.id),
                          className: "p-1 text-gray-400 hover:text-blue-600 transition-colors"
                        },
                          React.createElement(Edit3, { className: "w-3 h-3" })
                        ),
                        React.createElement('button', {
                          onClick: () => deleteTask(task.id),
                          className: "p-1 text-gray-400 hover:text-red-600 transition-colors"
                        },
                          React.createElement(Trash2, { className: "w-3 h-3" })
                        )
                      )
                    ),
                    React.createElement('div', { className: "mt-2" },
                      React.createElement('div', { className: "flex items-center gap-2" },
                        React.createElement('div', { className: "flex-1 bg-gray-200 rounded-full h-2" },
                          React.createElement('div', {
                            className: "bg-blue-600 h-2 rounded-full transition-all duration-300",
                            style: { width: `${task.progress}%` }
                          })
                        ),
                        React.createElement('span', { className: "text-xs text-gray-600" }, `${task.progress}%`)
                      )
                    )
                  ),
                  
                  // Timeline Bar
                  React.createElement('div', { className: "flex-1 relative p-4" },
                    React.createElement('div', { className: "relative h-6" },
                      React.createElement('div', {
                        className: `absolute h-6 rounded-lg ${getStatusColor(task.status)} opacity-80 hover:opacity-100 transition-opacity cursor-pointer`,
                        style: {
                          left: `${position.left}%`,
                          width: `${position.width}%`
                        },
                        title: `${task.name}: ${task.progress}% complete`
                      },
                        React.createElement('div', { className: "flex items-center h-full px-2" },
                          task.status === 'completed' && React.createElement(CheckCircle, { className: "w-3 h-3 text-white" })
                        ),
                        // Progress overlay
                        React.createElement('div', {
                          className: "absolute top-0 left-0 h-full bg-black bg-opacity-20 rounded-lg",
                          style: { width: `${task.progress}%` }
                        })
                      )
                    )
                  )
                );
              })
            ),

            // Project Summary
            React.createElement('div', { className: "mt-6 p-4 bg-blue-50 rounded-lg" },
              React.createElement('h3', { className: "font-semibold text-blue-800 mb-2" }, "Project Summary"),
              React.createElement('div', { className: "grid grid-cols-4 gap-4 text-sm" },
                React.createElement('div', null,
                  React.createElement('span', { className: "text-blue-600 font-medium" }, "Total Tasks:"),
                  React.createElement('div', { className: "text-lg font-bold text-blue-800" }, tasks.length)
                ),
                React.createElement('div', null,
                  React.createElement('span', { className: "text-green-600 font-medium" }, "Completed:"),
                  React.createElement('div', { className: "text-lg font-bold text-green-700" }, 
                    tasks.filter(t => t.status === 'completed').length
                  )
                ),
                React.createElement('div', null,
                  React.createElement('span', { className: "text-blue-600 font-medium" }, "In Progress:"),
                  React.createElement('div', { className: "text-lg font-bold text-blue-700" }, 
                    tasks.filter(t => t.status === 'in-progress').length
                  )
                ),
                React.createElement('div', null,
                  React.createElement('span', { className: "text-gray-600 font-medium" }, "Not Started:"),
                  React.createElement('div', { className: "text-lg font-bold text-gray-700" }, 
                    tasks.filter(t => t.status === 'not-started').length
                  )
                )
              )
            )
          );
        };

        ReactDOM.render(React.createElement(GanttChart), document.getElementById('root'));
    </script>
</body>
</html>
